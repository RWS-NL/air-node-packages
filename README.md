<div align="center">
  <p>
  <a href="https://github.com/RWS-NL/air-node-packages"><img src="https://raw.githubusercontent.com/RWS-NL/air-node-packages/master/packages/webcomponents/src/Logo/logo.svg?sanitize=true" height="200" alt="logo"/></a>
  </p>

  <p>
<h1> Rijkswaterstaat AIR Node Packages </h1>
<h3> All node packages by Rijkswaterstaat for the AIR project in one convenient location </h3>
  </p>

</div>

---

**Project Status**

[![GitHub](https://img.shields.io/github/license/RWS-NL/air-node-packages?logo=github&style=flat-square)](https://github.com/RWS-NL/air-node-packages/blob/master/LICENSE.md)

**Bundle Sizes**

[![npm bundle size](https://img.shields.io/bundlephobia/min/@rws-air/eslint-config?label=eslint-config%20-%20minified&logo=webpack&style=flat-square)](https://bundlephobia.com/result?p=@rws-air/eslint-config)
[![npm bundle size](https://img.shields.io/bundlephobia/minzip/@rws-air/eslint-config?label=eslint-config%20-%20minzipped&logo=webpack&style=flat-square)](https://bundlephobia.com/result?p=@rws-air/eslint-config)

[![npm bundle size](https://img.shields.io/bundlephobia/min/@rws-air/stylelint-config?label=stylelint-config%20-%20minified&logo=webpack&style=flat-square)](https://bundlephobia.com/result?p=@rws-air/stylelint-config)
[![npm bundle size](https://img.shields.io/bundlephobia/minzip/@rws-air/stylelint-config?label=stylelint-config%20-%20minzipped&logo=webpack&style=flat-square)](https://bundlephobia.com/result?p=@rws-air/stylelint-config)
[![npm bundle size](https://img.shields.io/bundlephobia/min/@rws-air/tslint-config?label=tslint-config%20-%20minified&logo=webpack&style=flat-square)](https://bundlephobia.com/result?p=@rws-air/tslint-config)
[![npm bundle size](https://img.shields.io/bundlephobia/minzip/@rws-air/tslint-config?label=tslint-config%20-%20minzipped&logo=webpack&style=flat-square)](https://bundlephobia.com/result?p=@rws-air/tslint-config)

[![npm bundle size](https://img.shields.io/bundlephobia/min/@rws-air/usercreator?label=usercreator%20-%20minified&logo=webpack&style=flat-square)](https://bundlephobia.com/result?p=@rws-air/usercreator)
[![npm bundle size](https://img.shields.io/bundlephobia/minzip/@rws-air/usercreator?label=usercreator%20-%20minzipped&logo=webpack&style=flat-square)](https://bundlephobia.com/result?p=@rws-air/usercreator)
[![npm bundle size](https://img.shields.io/bundlephobia/min/@rws-air/webcomponents?label=webcomponents%20-%20minified&logo=webpack&style=flat-square)](https://bundlephobia.com/result?p=@rws-air/webcomponents)
[![npm bundle size](https://img.shields.io/bundlephobia/minzip/@rws-air/webcomponents?label=webcomponents%20-%20minzipped&logo=webpack&style=flat-square)](https://bundlephobia.com/result?p=@rws-air/webcomponents)

[![npm bundle size](https://img.shields.io/bundlephobia/min/@rws-air/utils?label=utils%20-%20minified&logo=webpack&style=flat-square)](https://bundlephobia.com/result?p=@rws-air/utils)
[![npm bundle size](https://img.shields.io/bundlephobia/minzip/@rws-air/utils?label=utils%20-%20minzipped&logo=webpack&style=flat-square)](https://bundlephobia.com/result?p=@rws-air/utils)
[![npm bundle size](https://img.shields.io/bundlephobia/min/@rws-air/commitlint-config?label=commitlint-config%20-%20minified&logo=webpack&style=flat-square)](https://bundlephobia.com/result?p=@rws-air/commitlint-config)
[![npm bundle size](https://img.shields.io/bundlephobia/minzip/@rws-air/commitlint-config?label=commitlint-config%20-%20minzipped&logo=webpack&style=flat-square)](https://bundlephobia.com/result?p=@rws-air/commitlint-config)

[![npm bundle size](https://img.shields.io/bundlephobia/min/@rws-air/commitizen-config?label=commitizen-config%20-%20minified&logo=webpack&style=flat-square)](https://bundlephobia.com/result?p=@rws-air/commitizen-config)
[![npm bundle size](https://img.shields.io/bundlephobia/minzip/@rws-air/commitizen-config?label=commitizen-config%20-%20minzipped&logo=webpack&style=flat-square)](https://bundlephobia.com/result?p=@rws-air/commitizen-config)

**Versions**

[![npm](https://img.shields.io/npm/v/@rws-air/eslint-config?color=crimson&label=eslint-config%20version&logo=npm&style=flat-square)](https://www.npmjs.com/package/@rws-air/eslint-config)
[![npm](https://img.shields.io/npm/v/@rws-air/stylelint-config?color=crimson&label=stylelint-config%20version&logo=npm&style=flat-square)](https://www.npmjs.com/package/@rws-air/stylelint-config)
[![npm](https://img.shields.io/npm/v/@rws-air/tslint-config?color=crimson&label=tslint-config%20version&logo=npm&style=flat-square)](https://www.npmjs.com/package/@rws-air/tslint-config)
[![npm](https://img.shields.io/npm/v/@rws-air/usercreator?color=crimson&label=usercreator%20version&logo=npm&style=flat-square)](https://www.npmjs.com/package/@rws-air/usercreator)
[![npm](https://img.shields.io/npm/v/@rws-air/webcomponents?color=crimson&label=webcomponents%20version&logo=npm&style=flat-square)](https://www.npmjs.com/package/@rws-air/webcomponents)
[![npm](https://img.shields.io/npm/v/@rws-air/utils?color=crimson&label=utils%20version&logo=npm&style=flat-square)](https://www.npmjs.com/package/@rws-air/utils)
[![npm](https://img.shields.io/npm/v/@rws-air/commitlint-config?color=crimson&label=commitlint-config%20version&logo=npm&style=flat-square)](https://www.npmjs.com/package/@rws-air/commitlint-config)
[![npm](https://img.shields.io/npm/v/@rws-air/commitizen-config?color=crimson&label=commitizen-config%20version&logo=npm&style=flat-square)](https://www.npmjs.com/package/@rws-air/commitizen-config)

**Our Badges**

[![website](https://img.shields.io/badge/RWS-Approved-yellow.svg?longCache=true&style=flat-square&logo=gov.uk&logoColor=white&link=https://www.rijkswaterstaat.nl&colorA=000000&colorB=154273)](https://www.rijkswaterstaat.nl)
[![slack](https://img.shields.io/badge/Slack-Powered-green.svg?longCache=true&style=flat-square&logo=slack&logoColor=white&link=https://www.slack.com&colorA=000000&colorB=56B68B)](https://www.slack.com)
[![trello](https://img.shields.io/badge/Trello-Managed-blue.svg?longCache=true&style=flat-square&logo=trello&logoColor=white&link=https://www.slack.com&colorA=000000&colorB=0079BF)](https://trello.com/)
[![Pivotal Tracked](https://img.shields.io/badge/Pivotal-Tracked-blue.svg?longCache=true&style=flat-square&link=https://www.pivotaltracker.com/n/projects/1915901&colorA=000000&colorB=ED7D00&logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAn5JREFUKBVNUk1IVFEUPue+lzKpNYQQtGqcbCdCuspSkzYtckjSIEEao9q4CVRcjKlo+V/kooXBTFNCNpqhi2hjVuIiyjJrYzSRBVGg9INazrx7T98bGejCu5x7z3fO+b7vXab/VnV7LFucPxeNMceJyZ9KCcWJeSrLq67daapbT8M5HVS33i7TRkeEZDcLzwnTvGJiESki4RKcv1qKguOdwVm3JlV4MhQp14YeE8kzW9nBAaf/pxFqJbaGfD0Ln06FbvkTRiLMUqIUl7vF7NLTyfVFIVqe6DpTwch+bC4YIZFaUBzP63tbvdxScPR5vHXmbv76DEbtyfZahVwViraJ6OZC+VxSl7yf79LYZiknafQoCWVYll2jtRNDk5fd1oXaVc5aQHxFEekApMyedR5kgGrM/RxtwszqBgDT0N2c0sQyd7O74T1Uz4FNpS0C91geJkl+ocEjFwQjNHsyez2bjv6rnQWcP5DHbndzkDIPWedg3JZBeX2LS8qi0wDlobTAJjuxyQqNZR6QJdnQI19aDuyDaagjslEYx4gi9yCaOrDvR/giubEWUySvEJeB2g43byjZxiTFwMdtYZ7ETeP50JBfEsOlvNVxEJNGDdEhZYOFUdBPFJWAg3EHLaV6lDdn1yA0rqxIzvDe7bnFpKxjvv5396BlCthM0Vzp610cjXrexF5bvuto/M2zk6+mHkDVpegRccw0M80QZdRPXK5ddvU4kmhQzB2NdpPXER0GzVJL2RVjnXVPU4UujROhcAW6hcE/F3bNCrumwBbhYrA/DMe/w8n68a7gk9S9u6VXfe9kzo/fq43oFsCdH79K4H8cTCYtO2tgrL1mLY39BzRkHFrrWeoEAAAAAElFTkSuQmCC)](https://www.pivotaltracker.com/n/projects/1915901)
[![Sketch Designed](https://img.shields.io/badge/Sketch-Designed-blue.svg?longCache=true&style=flat-square&link=https://www.sketchapp.com&colorA=000000&colorB=F17100&logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAV1JREFUKBWlUb8vQ0Ec/1z7qtWmNYlgKTF0aQ0YaxcRu1HCLGL20tEm/gJ/ApGwGawYaGISmg4SbC3tq9e+8/3ceQbvdfK93L3PfX5873JPIab0dWYWQWbeSAnvTi15T39tKiT0KZYx5VwgrUahZKTWrOSfAVpGT3fx0l9R67iikOCib5BFgHM4KqsZUlVgYtNOwYYTjR7jDYNoSheNHNuooAxM77KfLcGG4xH00Cul9An2pVPNuGbmgOKhgZGlsQM8P1o6Adfxmih9vdt9pveBZHM7kiEx6ATwHqw0Mo6SeZxWDfcSLguBvNw0rtp1gAeIp15wUeHNkV/FQmoMbxT67WiMHDV66KXDBNUi/EIRlWQO3U7kjwHkqNFD72+QQG3hVa5RDdoY+C0ytojJUaMn5M2J4Sa3h9v0JDa8hjz8TxGToxZyQ7+fB3D9YwScxEONcYJ3hMuuzDjtX9w3aVN9Whe7I0sAAAAASUVORK5CYII=)](https://www.sketchapp.com)
[![Zeplin Based](https://img.shields.io/badge/Zeplin-Based-blue.svg?longCache=true&style=flat-square&link=https://app.zeplin.io/project/587661de593c722607342d7b&colorA=000000&colorB=FEBD12&logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAOCAYAAAAi2ky3AAAAAXNSR0IArs4c6QAAAjBJREFUKBWtUU1rE1EUPfe9yUyajza2TRsq2EVswQqK6N6FiOJGBbeuq+hfKLhw48qFVBRd6A8QxEVFEFy3qLhQUREqBa1JbU0ymXzMzLvXN60fsRay8cJ9vDfvnDPnnQv0qcal/HRtNnu8Dwy0E8C/kBsT0JTtSJPpZMeHPobpetk9mXKgKEZKfNpX+9TLdXoPv/a50pGNZvX5Rv4EODI0h3Iw40IfBLNCrIBQQ16OvINnrtH+2r2Et6MjWS4UzGu+pffgDFfJU3kPiFwgTgHSQyEBVGuOjlau/uNI3hYmUecFtUvNyNcBoG3JejuMmdvcMBVJR6t01hr6W0iWiiV0whfoZEYoysD4EUgnxm0pEQnZN1WjOHCyAlWQjoFUgifJ9eavwrt7D4Hj89wIZpU3mEFkXdjSwykxK61uHKFrvtOgTcL2ljtuxYiXGw2tzI0E68j96d3dbvQYgnHHswJWRIiF69yJ1+ByTaUpI2lybMhJGUFcaSXtW865wdut1eTzZnLhnfJh1uZBasyMx1W4EumfLJttO4Z9FIjswNbbMLat2Iqj6XTuZvAqEUnq9wjkWflp/Ll7LFy2uXg2GEvmiAE/BFsx7horhi9a6LrjqEfpef/DlsTW2jMO8ZwJt6WH9UJ7qVE1lbDILClFUPat7zWpBWiUssXRh8G3talekWT/R0hwBTSwqE69aW4HNS9mD7CiTt4dWvQr65PIqM1ctuP6noPLoxOJWF/g/wD8AHyJ+Mm/jBDkAAAAAElFTkSuQmCC)](https://app.zeplin.io/project/587661de593c722607342d7b)

## What is this?

This is a mono-repo for all NodeJS related packages used throughout other AIR projects. This repository is managed by [Lerna](https://github.com/lerna/lerna). Each package has its own subfolder in the `packages` folder, you can easily create a new package with the `lerna create` command.

## Working with this repository

Please see [Lerna and working on air-node-packages](https://github.com/RWS-NL/air-dev/blob/master/docs/Lerna_and_working_on_air-node-packages.md) on the air-dev repo

---

To get autocompletion for Lerna follow these steps:

1. Run this:

```zsh
git clone https://github.com/favware/zsh-lerna ${ZSH_CUSTOM:=~/.oh-my-zsh/custom}/plugins/zsh-lerna
```

2. Add `zsh-lerna` in your `~/.zshrc`:

```zsh
plugins=(… zsh-lerna)
```

3. Reload `~/.zshrc` or reload your terminal

### Running the linter

Run `yarn lint` from repository root

### Running tests

Run `yarn test` from repository root

### Updating snapshots for Webcomponents

To easily update failing snapshots for webcomponents run this command from repository root: `yarn test:web`

### Creating a build

Run `yarn build` from repository root

### Publishing new versions

1. Run `yarn build` to ensure you're about to publish all latest versions. This repo has TypeScript code that needs to be compiled to JavaScript before it can be published!
2. Prepare a git commit for your changes. But instead of using `git push` to finish the commit, go to the next step using `lerna publish`.
3. Run `lerna publish` to start the publishing process. This will publish packages to NPM and commit the change to github.

#### If `lerna publish` fails

1. Go to GitHub repository -> releases: https://github.com/RWS-NL/air-node-packages/releases.
2. Delete any tags created by the publish script.
3. Delete the same tags locally: `git tag -d <name_of_tag> [...<name_of_other_tag>]`.
4. Reset your HEAD to the commit before the publish.

- `tig` to find commit hash.
- `git checkout <commit_hash>`.

5. Remove the failed commit with `git push --force`.
6. Fix the issues.
7. Run `yarn build` to ensure your fixes fix everything.
8. Re-run the publish process as described above.

#### If you have the message  "Do you need a `configBasedir`" ####
See this message: Error: Could not find "../stylelint-config/dist/index.js". Do you need a `configBasedir`?
Here is how to solve it:

`yarn install --frozen-lockfile`
`yarn tsc -b packages/utils packages/eslint-config packages/stylelint-config`
`yarn build`

## API Documentation

Check out [the docs on github pages](https://rws-nl.github.io/air-node-packages/)
